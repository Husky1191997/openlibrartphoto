{"version":3,"sources":["reducer.ts"],"names":["ADD_ACTION","REMOVE_ACTION","UPDATE_ACTION","selector","reducer","state","action","type","key","node","filter","item","newState"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,aAArB,EAAoCC,aAApC,QAAyD,aAAzD;AACA,SAASC,QAAT,QAAyB,YAAzB;AAIA,OAAO,MAAMC,OAAO,GAAG,CACrBC,KADqB,EAErBC,MAFqB,KAGC;AACtB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,GAAR;AAAaC,IAAAA,IAAI,GAAG;AAApB,MAA6BH,MAAnC;;AAEA,UAAQC,IAAR;AACE,SAAKP,UAAL;AACE,aAAO,CACL,GAAGK,KADE,EAEL;AACEG,QAAAA,GADF;AAEEC,QAAAA;AAFF,OAFK,CAAP;;AAQF,SAAKP,aAAL;AACE,aAAO,CACL,GAAGG,KAAK,CAACK,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACH,GAAL,KAAaA,GAAlC,CADE,EAEL;AACEA,QAAAA,GADF;AAEEC,QAAAA;AAFF,OAFK,CAAP;;AAQF,SAAKR,aAAL;AACE,UAAIE,QAAQ,CAACE,KAAD,EAAQG,GAAR,CAAZ,EAA0B;AACxB,cAAMI,QAAQ,GAAGP,KAAK,CAACK,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACH,GAAL,KAAaA,GAAlC,CAAjB;AACA,eAAOI,QAAP;AACD;;AACD;AAxBJ;;AA0BA,SAAOP,KAAP;AACD,CAjCM","sourcesContent":["import { ADD_ACTION, REMOVE_ACTION, UPDATE_ACTION } from './constants';\nimport { selector } from './selector';\nimport type { PortalType } from '../types';\nimport type { ActionType } from './types';\n\nexport const reducer = (\n  state: Array<PortalType>,\n  action: ActionType\n): Array<PortalType> => {\n  const { type, key, node = null } = action;\n\n  switch (type) {\n    case ADD_ACTION:\n      return [\n        ...state,\n        {\n          key,\n          node,\n        },\n      ];\n\n    case UPDATE_ACTION:\n      return [\n        ...state.filter(item => item.key !== key),\n        {\n          key,\n          node,\n        },\n      ];\n\n    case REMOVE_ACTION:\n      if (selector(state, key)) {\n        const newState = state.filter(item => item.key !== key);\n        return newState;\n      }\n      break;\n  }\n  return state;\n};\n"]}