"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.reducer = void 0;

var _constants = require("./constants");

var _selector = require("./selector");

const reducer = (state, action) => {
  const {
    type,
    key,
    node = null
  } = action;

  switch (type) {
    case _constants.ADD_ACTION:
      return [...state, {
        key,
        node
      }];

    case _constants.UPDATE_ACTION:
      return [...state.filter(item => item.key !== key), {
        key,
        node
      }];

    case _constants.REMOVE_ACTION:
      if ((0, _selector.selector)(state, key)) {
        const newState = state.filter(item => item.key !== key);
        return newState;
      }

      break;
  }

  return state;
};

exports.reducer = reducer;
//# sourceMappingURL=reducer.js.map