{"version":3,"sources":["reducer.ts"],"names":["reducer","state","action","type","key","node","ADD_ACTION","UPDATE_ACTION","filter","item","REMOVE_ACTION","newState"],"mappings":";;;;;;;AAAA;;AACA;;AAIO,MAAMA,OAAO,GAAG,CACrBC,KADqB,EAErBC,MAFqB,KAGC;AACtB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,GAAR;AAAaC,IAAAA,IAAI,GAAG;AAApB,MAA6BH,MAAnC;;AAEA,UAAQC,IAAR;AACE,SAAKG,qBAAL;AACE,aAAO,CACL,GAAGL,KADE,EAEL;AACEG,QAAAA,GADF;AAEEC,QAAAA;AAFF,OAFK,CAAP;;AAQF,SAAKE,wBAAL;AACE,aAAO,CACL,GAAGN,KAAK,CAACO,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACL,GAAL,KAAaA,GAAlC,CADE,EAEL;AACEA,QAAAA,GADF;AAEEC,QAAAA;AAFF,OAFK,CAAP;;AAQF,SAAKK,wBAAL;AACE,UAAI,wBAAST,KAAT,EAAgBG,GAAhB,CAAJ,EAA0B;AACxB,cAAMO,QAAQ,GAAGV,KAAK,CAACO,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACL,GAAL,KAAaA,GAAlC,CAAjB;AACA,eAAOO,QAAP;AACD;;AACD;AAxBJ;;AA0BA,SAAOV,KAAP;AACD,CAjCM","sourcesContent":["import { ADD_ACTION, REMOVE_ACTION, UPDATE_ACTION } from './constants';\nimport { selector } from './selector';\nimport type { PortalType } from '../types';\nimport type { ActionType } from './types';\n\nexport const reducer = (\n  state: Array<PortalType>,\n  action: ActionType\n): Array<PortalType> => {\n  const { type, key, node = null } = action;\n\n  switch (type) {\n    case ADD_ACTION:\n      return [\n        ...state,\n        {\n          key,\n          node,\n        },\n      ];\n\n    case UPDATE_ACTION:\n      return [\n        ...state.filter(item => item.key !== key),\n        {\n          key,\n          node,\n        },\n      ];\n\n    case REMOVE_ACTION:\n      if (selector(state, key)) {\n        const newState = state.filter(item => item.key !== key);\n        return newState;\n      }\n      break;\n  }\n  return state;\n};\n"]}